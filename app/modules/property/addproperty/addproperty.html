
<div class="row">
	<div class="col-sm-12">
		<div class="main-content">		
			<ng-include src="'modules/component/toolbar.html'"></ng-include>	
			<h3 class="text-center" title="Add new Property">Add New Property</h3>
			<form class="form-horizontal" name="addProperty" novalidate>	
				<tabset>
				<p class="paraMand">* Fields are mandatory</p>
				
				<tab heading="Property" title="Property">
					<h3>Property</h3>
					<div class="form-group">
						<label for="title" class="col-sm-2 control-label">* Property Title </label>
						<div class="col-sm-9">
							<input type="text"  id="title" class="form-control" name="title" ng-model="property.title" required>				
							
							<span class="text-danger" ng-show="addProperty.title.$dirty && addProperty.title.$invalid">
								<span ng-show="addProperty.title.$error.required">Title is required .</span>
							</span>											 
						</div>				
					</div>
				
					<div class="form-group">							
						<label for="property_for" class="col-sm-2  control-label">* Property for</label>				
						
						<div class="col-sm-9"> 
							<label class="radio-inline">
								<input type="radio" name="property_for"   id="Sale" value="Sale"  ng-model="property.property_for.sale" checked="true">Sale
							</label>
							
							<label class="radio-inline">
							  <input type="radio" name="property_for" id="Rent" value="Rent" ng-model="property.property_for.rent"> Rent
							</label>
							
							<label class="radio-inline">
							  <input type="radio" name="property_for" id="PG" value="PG" ng-model="property.property_for.PG"> PG				
							</label>										
						</div>	
					</div> 	

					<div class="form-group">
						<label for="category" class="col-sm-2 control-label">Property Category </label>
						<div class="col-sm-9">
							<select  id="category"  name="category" ng-model="property.category" class="form-control" required ng-options="item.category_name as item.category_name for item in propertyConfig.category">
							
							{{property.category | json}}
								<option value="">Select Category</option>			
							</select>
							
							<span class="text-danger" ng-show="addProperty.category.$dirty && addProperty.category.$invalid">
								<span ng-show="addProperty.category.$error.required">Property selection is required .</span>
							</span>				 
						</div>
					</div>
				
					<div class="form-group">
						<label for="projectName" class="col-sm-2 control-label">* Project Name </label>
						<div class="col-sm-9">
							<select class="form-control"  id="projectName" name="projectName" ng-model="property.project_name" ng-options="item.title as item.title for item in addProjName">
								<option value="">Select Project Name</option>
							</select>
						</div>
					</div>
				
					<div class="form-group">
						<label for="prop_desc" class="col-sm-2 control-label">* Property Discription  </label>
						<div class="col-sm-9">
							<textarea type="text" class="form-control" name="prop_desc" ng-model="property.property_description" cols="30" rows="4" ng-maxlength="356" ></textarea>
							
							<p ng-hide="addProperty.property_description.$error.maxlength">{{ 356 - property.property_description.length + " Chars left" }}</p>
							
							 <span class="text-danger" ng-show="addProperty.property_description.$error.maxlength">
								Sorry You are Exceeding the Limit
							</span>	
							
							<span class="text-danger" ng-show="addProperty.property_description.$dirty && addProperty.property_description.$invalid">
								<span ng-show="addProperty.property_description.$error.required">Property Discription is required .</span>
							</span>							
						</div>				
					</div><!-- property discription -->						
				</tab> 
					
				<tab heading="Property Information" title="Property information">
					<h3>Property Information:</h3>					
					<div class="form-group"> 
					<label for="featured" class="col-sm-2 control-label">* &nbsp Featured</label> 
						<div class="col-sm-9 "  ng-model="property.featured">
							<label class="radio-inline">
							  <input type="radio" name="featured" id="Yes" value="yes" checked="true"> Yes
							</label>
							<label class="radio-inline">
							  <input type="radio" name="featured" id="No" value="No" ng-model="property.featured "> No
							</label>								
						</div>	
					</div>

					<div class="form-group">
						<label for="projectType" class="col-sm-2  control-label">* Property Type </label>
						<div class="col-sm-9">
							<select  id="projectType"  name="projectType" ng-model="property.type" class="form-control" required ng-options="item.types as item.types for item in propertyConfig.category">
								<option value=""> Select Property Type</option>		
							</select>
							
							<span class="text-danger" ng-show="addProperty.category.$dirty && addProperty.category.$invalid">
								<span ng-show="addProperty.category.$error.required">Property selection is required .</span>
							</span>	
						</div>
					</div>
					
					<div class="form-group">
						<label for="buildup_area" class="col-sm-2 control-label">* Built Up Area </label>
						<div class="col-sm-6">
							<input type="text"  id="buildup_area" class="form-control help-block" name="buildup_area" ng-model="property.property_info.buildup_area" ng-pattern="/^\d{0,9}[0-9]$/" required>
							
							<p ng-show="addProperty.buildup_area.$error.pattern && (addProperty.buildup_area.$dirty || submitted)" class="text-danger">Enter only no.</p>
						</div>							
						<div class="col-sm-3">
							<select class="form-control" ng-model="property.build_unit"  title="" required >
								<option selected value="">Unit Area</option>
								<option value="Feet">Sq. Feet</option>
								<option value="Cent">Cent</option>
								<option value="Yard">Sq. Yard</option>					
							</select>
							<span class="text-danger" ng-show="addProperty.buildup_area.$dirty && addProperty.buildup_area.$invalid">
							  <span ng-show="addProperty.buildup_area.$error.required">Built Area is required .</span>
							</span>				 
						</div>
					</div>	
					
					<div class="form-group">
						<label for="land_area" class="col-sm-2 control-label ">* Plot/ Land Area</label>
						<div class="col-sm-6">
							<input type="text" id="land_area" class="form-control" name="land_area" ng-model="property.property_info.land_area"  ng-pattern="/^\d{0,9}[0-9]$/" required>
							<p ng-show="addProperty.land_area.$error.pattern && (addProperty.land_area.$dirty || submitted)" class="help-block">Enter only no.</p>
						</div>
						<div class="col-sm-3">
							<select class="form-control" ng-model="property.land_unit" required>
								<option selected value="">Unit Area</option>
								<option value="Feet">Sq. Feet</option>
								<option value="Cent">Cent</option>
								<option value="Yard">Sq. Yard</option>					
							</select>
							<span class="text-danger" ng-show="addProperty.land_area.$dirty && addProperty.land_area.$invalid">
							  <span ng-show="addProperty.land_area.$error.required">Land Area is required .</span>
							</span>				 
						</div>				
					</div>		  
					<div class="form-group">
						<label for="carpet_area" class="col-sm-2 control-label">Carpet Area </label>
						<div class="col-sm-6">
							<input type="text" id="carpet_area" class="form-control" name="carpet_area" ng-model="property.property_info.carpet_area" ng-pattern="/^\d{0,9}[0-9]$/" required>
							<p ng-show="addProperty.carpet_area.$error.pattern && (addProperty.carpet_area.$dirty || submitted)" class="help-block">Enter only no.</p>				 
						</div>
						<div class="col-sm-3">
							<select class="form-control" ng-model="property.carpet_unit" required>
								<option selected value="">Unit Area</option>
									<option value="Feet">Sq. Feet</option>
									<option value="Cent">Cent</option>
									<option value="Yard">Sq. Yard</option>				
							</select>
							
							<span class="text-danger" ng-show="addProperty.carpet_area.$dirty && addProperty.carpet_area.$invalid">
							  <span ng-show="addProperty.carpet_area.$error.required">Carpet Area is required .</span>
							</span>				 
						</div>				
					</div>	  
				</tab>					
					
			<input type="hidden" id="status" name="status" ng-model="property.status" >	
			<input type="hidden" id="verified" name="verified" ng-model="property.verified" >
			<input type="hidden" id="user_id" name="user_id" ng-model="property.user_id" >					
			
			<tab heading="Structure" title="Property Structure">
			<h3>Property Structure</h3>
				<div class="form-group">
					<label for="bedrooms" class="col-sm-2 control-label">Bedrooms </label>
					<div class="col-sm-9">
						<select class="form-control" id="bedrooms" name="bedrooms" ng-model="property.property_info.bedrooms"  ng-options="item as item for item in addPropStruct" required>
						
							<option value="" selected>Select one</option>	
							
						</select>No's
					 <span class="text-danger" ng-show="addProperty.bedrooms.$dirty && addProperty.bedrooms.$invalid">
						  <span ng-show="addProperty.bedrooms.$error.required">Select Number of Bedrooms  .</span>
						</span>
					</div>										
				</div>
				
				<div class="form-group">
					<label for="bathrooms" class="col-sm-2 control-label">Bathrooms </label>
					<div class="col-sm-9">
						<select class="form-control" id="bathrooms"  name="bathrooms" ng-model="property.property_info.bathrooms" required ng-options="item.property_info as item.property_info for item in addPropStructure">
							<option value="" selected>Select one</option>	
						</select>No's	
						 <span class="text-danger" ng-show="addProperty.bathrooms.$dirty && addProperty.bathrooms.$invalid">
						  <span ng-show="addProperty.bathrooms.$error.required">Select Number of Bathrooms  .</span>
						</span>				 
					</div>									
				</div>
				
				<div class="form-group">
					<label for="propertyPrice" class="col-sm-2 control-label ">Property Price: </label>
					<div class="col-sm-6">
						<input type="text" id="propertyPrice" class="form-control" name="propertyPrice" ng-model="property.price" ng-pattern="/^\d{0,9}[0-9]$/" required>
						<p ng-show="addProperty.price.$error.pattern && (addProperty.price.$dirty || submitted)" class="help-block">Enter only no.</p>
					</div>
					<div class="col-sm-3">
						<select class="form-control" ng-model="property.currency" required>
							<option value="" selected>In Rupees</option>
							<option value="Thousand">Thousand</option>
							<option value="Lac">Lac</option>
							<option value="Carore">Carore</option>					
						</select>
						<span class="text-danger" ng-show="addProperty.propertyPrice.$dirty && addProperty.propertyPrice.$invalid">
							<span ng-show="addProperty.propertyPrice.$error.required">Property Price is required .</span>
						</span>				 
					</div>				
				</div>
			
				<div class="form-group">
				  <label for="property_images" class="col-sm-2" >* Property Images </label>
					<div class="col-sm-9">
						<!-- Changed by Vilas -->
						<!-- This is file input for select images -->
						<input type="file" id="proproperty_imagespImages" ng-file-select ng-multiple="true" accept="image/jpeg,image/png, image/gif" ng-file-change="generateThumb($files)" ng-model="property.property_images">
						
						<!-- This will show thumbnails & progress of images -->
						<file-preview url="property_images" ng-model="property.property_images"></file-preview>
						
						<!-- This button will show if file/s selected -->
						<button ng-show="property_images" ng-click="upload(property_images,path,userInfo,property.property_images)" type="button">Upload</button>
						
						<!-- This hidden input will store image path in array after successful uploading -->
						<input type="hidden" ng-model="property.property_images">
						<!-- Changed by Vilas -->
					</div>			
				</div>	 <!-- end property  -->		
			</tab>		
			
			
			<!--  property Location -->
			<tab heading="Location" title="Property Location">
				<h3>Property Location:</h3>	
				<div class="form-group">
					<label for="country" class="col-sm-2 control-label">Country</label>
					<div class="col-sm-9">
						<select class="form-control" id="country" name="country" ng-model="property.property_location.country" required ng-change="getState(property.property_location)" ng-options="item.country_name as item.country_name for item in contries">
							<option value="" selected="selected">Select Country</option>	
						</select> 
						<span class="text-danger" ng-show="addProperty.country.$dirty && addProperty.country.$invalid">
						  <span ng-show="addProperty.country.$error.required">State is required .</span>
						</span>
					</div>			
				</div>
				<div class="form-group">
					<label for="state" class="col-sm-2 control-label ">* State </label>
					<div class="col-sm-9">
						<select class="form-control" id="state" name="state" ng-model="property.property_location.state" ng-change="getCities(property.property_location)" required ng-options="item.state_name as item.state_name for item in states">		
							<option value="">Select State</option>
						</select>
						<span class="text-danger" ng-show="addProperty.state.$dirty && addProperty.state.$invalid">
						  <span ng-show="addProperty.state.$error.required">State is required .</span>
						</span>
					</div>				
			  </div>		  
			  <div class="form-group">
					<label for="city" class="col-sm-2 control-label">* City</label>
					<div class="col-sm-9">
						<select class="form-control" id="city" name="city" ng-model="property.property_location.city" required ng-options="item.city_name as item.city_name for item in cities">		
								<option value="">Select city</option>
						</select>
						
						<span class="text-danger" ng-show="addProperty.city.$dirty && addProperty.city.$invalid">
						  <span ng-show="addProperty.city.$error.required">City is required .</span>
						</span>
					</div>				
			  </div>
			  <div class="form-group">
					<label for="address" class="col-sm-2 control-label">* Address  </label>
					<div class="col-sm-9">
						<textarea type="text"  id="address" class="form-control" name="address" ng-model="property.property_location.address"    cols="30" rows="4" ng-maxlength="356"  ></textarea>
						<p ng-hide="addProperty.address.$error.maxlength">{{ 356 - property.address.length + " Chars left" }}</p>
						 <span class="text-danger" ng-show="addProperty.address.$error.maxlength">
							Sorry You are Exceeding the Limit</span>
							<span class="text-danger" ng-show="addProperty.address.$dirty && addProperty.address.$invalid">
						  <span ng-show="addProperty.address.$error.required">Address is required .</span>	 
					</div>				
			  </div>		  
			  <div class="form-group">
					<label for="location" class="col-sm-2 control-label">*  Area/Location </label>
					<div class="col-sm-9">
						<input type="text"  id="location" class="form-control" name="location" ng-model="property.property_location.location" required>
						<span class="text-danger" ng-show="addProperty.location.$dirty && addProperty.location.$invalid">
						  <span ng-show="addProperty.location.$error.required">Area is required .</span>
						</span>
						
					</div>				
			  </div>				  
			</tab><!--  property Location-->				
			
			<input type="hidden" id="status" name="status" >
			
			<tab heading="Contact" title="Property Contact Details">
			<!-- property contact details -->				
				<h3>Property contact Detail:</h3>
					<div class="form-group">
						<label for="contact_person" class="col-sm-2 control-label">* Name:</label>
						<div class="col-sm-9">
							<input type="text" id="contact_person" class="form-control" name="contact_person" ng-model="property.contact_details.contact_person" required>
							
							<span class="text-danger" ng-show="addProperty.contact_details.$dirty && addProperty.contact_details.$invalid">
							  <span ng-show="addProperty.contact_details.$error.required">Name is required .</span>
							</span>
						</div>						
					</div>
					
				  <div class="form-group">
						<label for="mobile" class="col-sm-2 control-label"> * Contact No:</label>
						<div class="col-sm-9">
							<input type="text"  id="mobile" class="form-control help-block"  name="mobile" ng-model="property.contact_details.mobile" placeholder="Enter Your Mobile Number" maxlength="10" ng-pattern="/^[789]\d{9}$/" required>							
							<p class="text-danger" ng-show="addProperty.contact_details.$error.pattern && (addProperty.contact_details.$dirty || submitted)" class="text-danger">Enter a valid mobile no.</p>
						</div>						
				  </div>
				  
				  <div class="form-group">
						<label for="email" class="col-sm-2 control-label">* Email ID:</label>
						<div class="col-sm-9">
							<input type="email"  id="email" class="form-control" name="email" ng-model="property.contact_details.email" ng-pattern=" /^[a-z]+[a-z0-9._]+@[a-z]+\.[a-z.]{2,5}$/" required>					
							<span class="text-danger" ng-show="addProperty.email.$error.pattern && (addProperty.contact_details.$dirty || submitted)"> invalid email! </span>
							
							<p class="text-danger" ng-show="addProperty.contact_details.$error.required && (addProperty.contact_details.$dirty || submitted)" class="help-block">Email is required.</p>								
						</div>							
				  </div>
				  <div class="form-group">
						<label for="cont_address" class="col-sm-2 control-label"> * Address </label>
						<div class="col-sm-9">
							<textarea class="form-control"  id="cont_address" name="cont_address" ng-model="property.contact_details.cont_address" cols="30" rows="4" ng-maxlength="356" ></textarea>
					<p ng-hide="addProperty.contact_details.$error.maxlength">{{ 356 - property.contact_details.length + " Chars left" }}</p>
					 <span class="text-danger" ng-show="addProperty.contact_details.$error.maxlength">
						Sorry You are Exceeding the Limit
					</span>	
					<span class="text-danger" ng-show="addProperty.contact_details.$dirty && addProperty.contact_details.$invalid">
					  <span ng-show="addProperty.contact_details.$error.required">Contactor is required .</span>
						</div>				
				  </div>				 
			</tab> <!-- property contact details -->			
			
			<tab heading="Optional Details" title="Optional Property Details">
			  <h3>Optional Property Details:</h3>
					<div class="form-group">
						<label for="prop_age" class="col-sm-2 control-label">Property Age</label>
						<div class="col-sm-9">
							<select class="form-control"  id="prop_age" ng-model="property.optional_property_details.property_age"  ng-options="item for item in propertyConfig.propertyAge" required>
								<option value="" selected>Select One</option>	
							</select>
						</div>					
					</div>				
					<div class="form-group">
						<label for="furnished" class="col-sm-2 control-label">Furnished</label>
						<div class="col-sm-9">
							<select class="form-control" id="furnished" ng-model="property.optional_property_details.furnished" ng-options="item for item in propertyConfig.furnished" required>
								<option value="" selected>Select One</option>				
							</select>
						</div>
					</div>
					<div class="form-group">
							<label for="prop_owner" class="col-sm-2 control-label">Ownership</label>
							<div class="col-sm-9">
								<select class="form-control" id="prop_owner" ng-model="property.optional_property_details.ownership" ng-options="item for item in propertyConfig.ownership" required>
									<option value="" selected>Select One</option>					
								</select>
							</div>
					</div>
					<div class="form-group">
							<label for="floors" class="col-sm-2 control-label">Total Number of Floors</label>
							<div class="col-sm-9">
								<select class="form-control" id="floors" ng-model="property.optional_property_details.property_floor" ng-options="item for item in propertyConfig.floors" required>
									<option value="" selected>Select One</option>
									
								</select>
							</div>
					</div>
					<div class="form-group">
							<label for="facing" class="col-sm-2 control-label">Facing</label>
							<div class="col-sm-9">
								<select class="form-control" id="facing" ng-model="property.optional_property_details.facing" ng-options="item for item in propertyConfig.facing" required>
									<option value="">Select One</option>										
								</select>
							</div>
					</div>
					
					<div class="form-group">
							<label for="parking" class="col-sm-2 control-label">Parking</label>
							<div class="col-sm-9">
								<select class="form-control" id="parking" ng-model="property.optional_property_details.parking" ng-options="item for item in propertyConfig.parking" required>
									<option value="" selected>Select One</option>				
								</select>
							</div>
					</div>
					
					<div class="form-group">
						<label for=" transType" class="col-sm-2 control-label">Transaction Type</label>
						<div class="col-sm-9">
							<select class="form-control" id="transType" ng-model="property.optional_property_details.transType" ng-options="item for item in propertyConfig.transaction_type" required>							
								<option value="">Select Transaction Type</option>				
							</select>
						</div>
					</div>						
			</tab>			
			
			<tab heading="Landmark" title="Landmark Details">
			<!--Land  Mark -->				
				<h3>Land Mark:</h3>
				<div class="form-group">
						<label for="hospital" class="col-sm-2 control-label">Hospitals </label>
						<div class="col-sm-9">
							<input type="text"  id="hospital" class="form-control" name="hospital" ng-model="property.landmarks.hospitals" /> kms						
						</div>							
				  </div>
				  <div class="form-group">
						<label for="airport" class="col-sm-2 control-label">  Airport </label>
						<div class="col-sm-9">
							<input type="text" id="airport" class="form-control"  name="airport" ng-model="property.landmarks.airport" >	kms						 
						</div>											
				  </div>
				  <div class="form-group">
						<label for="railway" class="col-sm-2 control-label">Railway Station</label>
						<div class="col-sm-9">
							<input type="text" id="railway" class="form-control" name="railway" ng-model="property.landmarks.railway" >kms	
						</div>											
				  </div>
				  <div class="form-group">
						<label for="school" class="col-sm-2 control-label">School </label>
						<div class="col-sm-9">
							<input type="text" id="school" class="form-control" name="school" ng-model="property.landmarks.school" >kms	
						</div>											
				  </div>
			</tab>	<!--land mark-->
			
			  <!--Amenities-->
			<tab heading="Amenities" title="Amenities">
				<h3>Amenities:</h3>
				<div class="form-group">
					<div class="col-sm-12">
						<div class="table-responsive">
							<table class="table table-bordered ">
								<tr>
									<td class="checkbox">
										<label class="col-sm-3" ng-repeat="x in propertyConfig.amenities">
											<input type="checkbox" checklist-model="property.amenities" checklist-value="x"/>
											{{x}}
										</label>								
									</td>
								</tr>
							</table>
						</div>
					</div>
				</div> <!--end Amenities-->		
			</tab>				
		</tabset>
		
		<div class="form-group">
			<div class="col-sm-12 ">					
				<h3>Select Sites</h3>
				<div class="table-responsive">
					<table class="table table-bordered">
						<tr>
							<td class="checkbox">
								<label>
									<input type="checkbox" ng-model="selectAll" ng-change="checkAll(websites, selectAll)" > Select all
								</label> 
							</td>	<br>
							<td class="checkbox">
								<label ng-repeat="website in websites" class="col-sm-3">
									<input type="checkbox" checklist-model="property.domain" checklist-value="website"> {{website.domain_name}}
								</label> {{property.domain_name | json}}<br>
							</td>
							<td class="checkbox ">
							  <label>
								<input type="checkbox" checklist-value="www.hinjewadiproperties.com" checklist-model="property.other_domain">www.hinjewadiproperties.com
							  </label>
							</td>
						</tr>
					</table>
				</div>
			</div>
		</div>
			
		<div class="form-group">
			<div class="col-sm-offset-2 col-sm-9">
				<button type="submit" ng-click="addProperty(property)" class="btn btn-primary" ng-disabled="addProperty.user.$dirty && addProperty.user.$invalid ||
				addProperty.email.$dirty && addProperty.email.$invalid" title="Add new your property">Add New Property</button>
				
				<button type="submit" ng-click="update()" title="Update your property" class="btn btn-success text-center ">Edit Property</button>
				<button type="reset" ng-click="reset()" title="Cancel" class="btn btn-danger text-center ">Cancel</button>
			</div>
		</div>				
	</form>
	</div>	
</div>
</div>




